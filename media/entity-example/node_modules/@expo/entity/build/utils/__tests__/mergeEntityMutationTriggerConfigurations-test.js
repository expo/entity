"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const TestEntityWithMutationTriggers_1 = require("../../testfixtures/TestEntityWithMutationTriggers");
const mergeEntityMutationTriggerConfigurations_1 = require("../mergeEntityMutationTriggerConfigurations");
describe(mergeEntityMutationTriggerConfigurations_1.mergeEntityMutationTriggerConfigurations, () => {
    it('successfully merges triggers', async () => {
        const firstAfter = new TestEntityWithMutationTriggers_1.TestMutationTrigger('2');
        const secondAfter = new TestEntityWithMutationTriggers_1.TestMutationTrigger('3');
        const merged = (0, mergeEntityMutationTriggerConfigurations_1.mergeEntityMutationTriggerConfigurations)({
            beforeAll: [new TestEntityWithMutationTriggers_1.TestMutationTrigger('1')],
            afterAll: [firstAfter],
        }, {
            afterAll: [secondAfter],
        });
        expect(merged.beforeAll?.length).toBe(1);
        expect(merged.afterAll).toEqual([firstAfter, secondAfter]);
        expect(merged.beforeCreate?.length).toBeFalsy();
        expect(merged.afterCreate?.length).toBeFalsy();
        expect(merged.beforeUpdate?.length).toBeFalsy();
        expect(merged.afterUpdate?.length).toBeFalsy();
        expect(merged.beforeDelete?.length).toBeFalsy();
        expect(merged.afterDelete?.length).toBeFalsy();
        expect(merged.afterCommit?.length).toBeFalsy();
    });
});
//# sourceMappingURL=mergeEntityMutationTriggerConfigurations-test.js.map